<!DOCTYPE html>
<html>
<head>
<title>Scale and translate image test</title>
<style>

body {
  text-align: center
}

</style>
    <script type="text/javascript" src="../../../jooscript.js"></script><script type="text/javascript" src="../../../fxcanvas.js"></script><!--[if IE]><script type="text/javascript" src="../../../flash_backend.js"></script><![endif]--><comment><script type="text/javascript" src="../../../canvas_backend.js"></script></comment>
<script>

  var img, ctx;

function draw() {
  var s = .25;
  var w = 608 / 2;
  var h = 380 / 2;

  ctx.save();
  ctx.translate(w, 0);
  ctx.scale(s, s);
  ctx.drawImage(img, 0, 0, w / s, h / s);
  ctx.restore();

  ctx.save();
  ctx.translate(w, 0);
  ctx.scale(-s, s);
  ctx.drawImage(img, 0, 0, w / s, h / s);
  ctx.restore();

  ctx.save();
  ctx.translate(w, 2 * h);
  ctx.scale(s, -s);
  ctx.drawImage(img, 0, 0, w / s, h / s);
  ctx.restore();

  ctx.save();
  ctx.translate(w, 2 * h);
  ctx.scale(-s, -s);
  ctx.drawImage(img, 0, 0, w / s, h / s);
  ctx.restore();
};

window.onload = function() {
  ctx = document.getElementById('c').getContext('2d');
  var img_src = '../examples/ff.jpg';
  ctx.canvas.onload = function (img_) {
    img = img_
    draw()
  }
  ctx.canvas.loadImages(img_src);
};

/*
var img = new Image;
img.onload = draw;
window.onload = function() {
  img.src = '../examples/ff.jpg';
};
*/
</script>
</head>
<body>

<canvas id=c width=608 height=380></canvas>

</body>
</html>
